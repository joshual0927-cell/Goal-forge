<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Goal-Forge – AI Weekly Planner</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@600;700&display=swap');
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #6B4EFF, #10B981);
      color: white;
      text-align: center;
      padding: 60px 20px;
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    h1 { font-size: 3.5rem; margin: 0; }
    p { font-size: 1.3rem; max-width: 600px; margin: 20px auto; }
    .btn {
      background: white; color: #6B4EFF; padding: 16px 32px;
      font-weight: 700; font-size: 1.2rem; border-radius: 12px;
      text-decoration: none; display: inline-block; margin-top: 20px;
    }
    .btn:hover { transform: scale(1.05); }
  </style>
</head>
<body>
  <h1>Goal-Forge</h1>
  <p>Turn “run a marathon” into a weekly plan — and sync it to your calendar in 60 seconds.</p>
  <!-- ==== AI GOAL INPUT FORM ==== -->
<form id="goalForm" style="margin-top: 40px; max-width: 500px; margin-left: auto; margin-right: auto;">
  <textarea 
    id="goalsInput" 
    placeholder='Try:&#10;"Run a 5K in 8 weeks"&#10;"Work 9–5 Mon–Fri"&#10;"Gym 3x/week"&#10;"Sleep 10 PM – 6 AM"' 
    style="width: 100%; height: 140px; padding: 14px; border-radius: 12px; font-size: 1rem; font-family: Inter, sans-serif; margin-bottom: 16px; border: none; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" 
    required></textarea>
  <button type="submit" class="btn" style="width: 100%;">Generate My Week</button>
</form>

<div id="result" style="margin-top: 30px; color: white; background: rgba(0,0,0,0.3); padding: 20px; border-radius: 12px; font-family: monospace; display: none; max-height: 400px; overflow-y: auto;"></div>

<script>
  document.getElementById('goalForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const input = document.getElementById('goalsInput').value.trim();
    if (!input) return;

    const result = document.getElementById('result');
    result.style.display = 'block';
    result.innerHTML = '<p style="margin:0; opacity:0.8;">Thinking...</p>';

    try {
      const res = await fetch('/api/plan', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ input })
      });

      const data = await res.json();
      result.innerHTML = '<pre style="margin:0; white-space: pre-wrap; word-wrap: break-word;">' + 
                         JSON.stringify(data, null, 2) + '</pre>';
    } catch (err) {
      result.innerHTML = '<p style="color:#ff6b6b;">Error: Could not reach AI. Check console.</p>';
    }
  });
</script>
<!-- ==== END AI FORM ==== -->
  <script>
    document.getElementById('waitlist').addEventListener('click', () => {
      alert('Waitlist coming soon! Check back in 24h.');
    });
  </script>
</body>
</html>
